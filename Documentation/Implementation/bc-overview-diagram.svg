<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="800" height="1500" viewBox="0 0 800 1500" role="img" aria-label="Brand Concierge overview flow diagram">
  <defs>
    <style>
      .bg { fill: #020817; }
      .box { fill: #1f2020; stroke: #cfcfcf; stroke-width: 2; rx: 14; ry: 14; }
      .diamond { fill: #1f2020; stroke: #cfcfcf; stroke-width: 2; }
      .label { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; font-size: 22px; fill: #e5e7eb; }
      .small { font-size: 18px; fill: #cbd5e1; }
      .edge { stroke: #cfcfcf; stroke-width: 2; fill: none; }
    </style>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto" markerUnits="strokeWidth">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#cfcfcf" />
    </marker>
  </defs>

  <rect class="bg" x="0" y="0" width="800" height="1500" />

  <!-- Boxes -->
  <rect class="box" x="170" y="80" width="460" height="120" />
  <text class="label" x="400" y="125" text-anchor="middle">
    <tspan x="400" dy="0">App startup</tspan>
    <tspan x="400" dy="32">Register AEP extensions</tspan>
    <tspan x="400" dy="32">Configure MobileCore appId</tspan>
  </text>

  <rect class="box" x="200" y="300" width="400" height="90" />
  <text class="label" x="400" y="332" text-anchor="middle">
    <tspan x="400" dy="0">Wrapped view hierarchy</tspan>
    <tspan x="400" dy="28">Concierge.wrap(content)</tspan>
    <tspan x="400" dy="28">(can be added around any view)</tspan>
  </text>

  <!-- Diamond (Entry point) -->
  <polygon class="diamond" points="400,510 500,610 400,710 300,610" />
  <text class="label" x="400" y="620" text-anchor="middle">Entry point</text>

  <!-- Tap buttons -->
  <rect class="box" x="90" y="790" width="260" height="70" />
  <text class="label" x="220" y="833" text-anchor="middle">Tap floating button</text>

  <rect class="box" x="450" y="790" width="260" height="70" />
  <text class="label" x="580" y="833" text-anchor="middle">Tap your button</text>

  <rect class="box" x="240" y="920" width="320" height="70" />
  <text class="label" x="400" y="963" text-anchor="middle">Concierge.show(...)</text>

  <rect class="box" x="170" y="1050" width="460" height="120" />
  <text class="label" x="400" y="1095" text-anchor="middle">
    <tspan x="400" dy="0">Request config via AEP event</tspan>
    <tspan x="400" dy="32">(Configuration + Edge Identity)</tspan>
  </text>

  <rect class="box" x="170" y="1240" width="460" height="100" />
  <text class="label" x="400" y="1280" text-anchor="middle">
    <tspan x="400" dy="0">Overlay presents ChatView</tspan>
    <tspan x="400" dy="32">(using returned config)</tspan>
  </text>

  <rect class="box" x="275" y="1400" width="250" height="70" />
  <text class="label" x="400" y="1443" text-anchor="middle">User chats</text>

  <!-- Edges -->
  <path class="edge" marker-end="url(#arrow)" d="M 400 200 L 400 300" />
  <path class="edge" marker-end="url(#arrow)" d="M 400 390 L 400 510" />

  <path class="edge" marker-end="url(#arrow)" d="M 345 665 L 220 790" />
  <path class="edge" marker-end="url(#arrow)" d="M 455 665 L 580 790" />

  <path class="edge" marker-end="url(#arrow)" d="M 220 860 C 220 900 310 900 340 920" />
  <path class="edge" marker-end="url(#arrow)" d="M 580 860 C 580 900 490 900 460 920" />

  <path class="edge" marker-end="url(#arrow)" d="M 400 990 L 400 1050" />
  <path class="edge" marker-end="url(#arrow)" d="M 400 1170 L 400 1240" />
  <path class="edge" marker-end="url(#arrow)" d="M 400 1340 L 400 1400" />
</svg>

